const e=new Map;e.set("b","b");e.set("tʃ","ch");e.set("d","d");e.set("ð","dh");e.set("f","f");e.set("ɡ",["g","gh"]);e.set("h","h");e.set("ɦ","h");e.set("dʒ","j");e.set("k","k");e.set("x","kh");e.set("l","l");e.set("ʎ","ly");e.set("m","m");e.set("ɱ","m");e.set("n","n");e.set("ɳ","n");e.set("ŋ","ng");e.set("ɴ","ng");e.set("ŋk","nk");e.set("p","p");e.set("r","r");e.set("ɹ","r");e.set("ɾ","r");e.set("ɽ","r");e.set("s",["s","ss"]);e.set("ʃ","sh");e.set("t","t");e.set("ʈ","t");e.set("tʃ","tch");e.set("θ","th");e.set("v","v");e.set("w","w");e.set("ɥ","w");e.set("ɰ","w");e.set("hw","wh");e.set("j","y");e.set("ʝ","y");e.set("z","z");e.set("ʒ","zh");e.set("ç","ch");e.set("ʣ","dz");e.set("ʤ","j");e.set("ʦ","ts");e.set("ʧ","ch");e.set("ɢ","g");e.set("ʔ","");e.set("c","k");e.set("ɟ","g");e.set("q","k");e.set("χ","kh");e.set("ʁ","r");e.set("ħ","h");e.set("ʕ","");const t=new Map;t.set("æ","a");t.set("ɑ","ah");t.set("ɑː","ah");t.set("ɛər","air");t.set("ɑːr","ar");t.set("ær","arr");t.set("ɔː","aw");t.set("eɪ","ay");t.set("ɛ",["e","eh"]);t.set("iː","ee");t.set("i","ee");t.set("ɪər","eer");t.set("ɛr","err");t.set("juː","ew");t.set("aɪ",["eye","y"]);t.set("ɪ",["i","ih"]);t.set("aɪər","ire");t.set("ɪr","irr");t.set("ɒ","o");t.set("oʊ","oh");t.set("ɔɪər","oir");t.set("uː","oo");t.set("u","oo");t.set("ʊər","oor");t.set("ɔːr","or");t.set("ɒr","orr");t.set("aʊər","our");t.set("aʊ","ow");t.set("ɔɪ","oy");t.set("ʌ",["u","uh"]);t.set("ɜːr","ur");t.set("jʊər","ure");t.set("ʌr","urr");t.set("ʊ","uu");t.set("ʊr","uurr");t.set("ə","uh");t.set("ər","er");t.set("y","ue");t.set("ø","eu");t.set("œ","eu");t.set("ɶ","a");t.set("ɨ","i");t.set("ʉ","u");t.set("ɯ","u");t.set("ɘ","uh");t.set("ɵ","uh");t.set("ɤ","uh");t.set("ɜ","uh");t.set("ɞ","uh");t.set("ɐ","uh");t.set("ɚ","er");t.set("ɝ","ur");t.set("ɔ","aw");t.set("a","ah");t.set("ɑ̃","on");t.set("ɛ̃","an");t.set("ɔ̃","on");t.set("œ̃","un");const g=new Map([...e,...t]),p="ˈ",h="ˌ",y=[...e.keys()],f=[...t.keys()],b=["/","[","]"," "],w=[...y,...f,p,h,...b],v=new Map([["i",8],["y",8],["ɨ",8],["ʉ",8],["ɯ",8],["u",8],["ɪ",8],["ʏ",8],["ʊ",8],["e",8],["ø",8],["ɘ",8],["ɵ",8],["ɤ",8],["o",8],["ə",8],["ɛ",8],["œ",8],["ɜ",8],["ɞ",8],["ʌ",8],["ɔ",8],["æ",8],["ɐ",8],["a",8],["ɶ",8],["ɑ",8],["ɒ",8],["ɚ",8],["ɝ",8],["ʲ",8],["aɪ",8],["eɪ",8],["ɔɪ",8],["aʊ",8],["oʊ",8],["ɪə",8],["ɛə",8],["ʊə",8],["j",7],["w",7],["ɥ",7],["ɰ",7],["l",6],["r",6],["ɹ",6],["ɾ",6],["ɽ",6],["ʎ",6],["ʟ",6],["m",5],["ɱ",5],["n",5],["ɳ",5],["ŋ",5],["ɴ",5],["f",4],["v",4],["θ",4],["ð",4],["s",4],["z",4],["ʃ",4],["ʒ",4],["ç",4],["ʝ",4],["x",4],["ɣ",4],["χ",4],["ʁ",4],["ħ",4],["ʕ",4],["h",4],["ɦ",4],["ʦ",3],["ʣ",3],["ʧ",3],["ʤ",3],["tʃ",3],["dʒ",3],["p",2],["b",2],["t",2],["d",2],["ʈ",2],["ɖ",2],["c",2],["ɟ",2],["k",2],["g",2],["q",2],["ɢ",2],["ʔ",2]]);function d(n){return v.get(n)??0}function x(n){const s=[];let r=d(n[0]);for(let u=1;u<n.length-1;u++){const o=d(n[u]),c=d(n[u+1]);o<=r&&o<=c&&s.push(u),r=o}return s}function k(n){const s=g.get(n);if(Array.isArray(s))return`(${s.join("|")})`;if(typeof s=="string")return s;if(b.includes(n))return n;throw Error(`Token "${n}" has no mapping!`)}function a(n,s){if(n.length===0)return"";const r=n.join("");return s?r.toUpperCase():r}function q(n,s,r,u){if(n===p){const o=a(s,r);return o&&u.push(o),{currentSyllable:[],isStressed:!0}}if(n===h)return{currentSyllable:s,isStressed:r};if(n===" "){const o=a(s,r);return o&&u.push(o),u.push(" "),{currentSyllable:[],isStressed:!1}}return{currentSyllable:[...s,k(n)],isStressed:r}}function E(n){const s=[];for(let r=0;r<n.length;){let u=!1;for(const o of w)n.startsWith(o,r)&&(s.push(o),r+=o.length,u=!0);if(!u)throw Error(`${n} contains unsupported symbol(s) around: "${n.charAt(r)}".`)}return s}function T(n){const s=E(n),r=x(s),u=[];let o={currentSyllable:[],isStressed:!1};for(let i=0;i<s.length;i++)if(o=q(s[i],o.currentSyllable,o.isStressed,u),r.includes(i)){const l=a(o.currentSyllable,o.isStressed);l&&u.push(l),o.currentSyllable=[]}const c=a(o.currentSyllable,o.isStressed);return c&&u.push(c),u.join("")}function A(){j(),C()}function j(){document.querySelector("#input").select()}function C(){const n=document.querySelector("#input"),s=o=>{const c=o.target,i=n.selectionStart??n.value.length,l=n.selectionEnd??n.value.length;n.focus(),n.setRangeText(c.innerText,i,l,"end")},r=document.querySelector("#input-button-area-consonants");[...y,p].map(o=>{const c=document.createElement("button");return c.type="button",c.innerText=o,c.className="col text-white bg-blue-500 hover:bg-blue-700 py-1 px-3 rounded input-button",c.onclick=s,c}).forEach(o=>r.appendChild(o));const u=document.querySelector("#input-button-area-vowels");f.map(o=>{const c=document.createElement("button");return c.type="button",c.innerText=o,c.className="col text-white bg-purple-500 hover:bg-purple-700 py-1 px-3 rounded input-button",c.onclick=s,c}).forEach(o=>u.appendChild(o))}function M(){const n=document.querySelector("#input"),s=document.querySelector("#run");n.value.length>0?s.removeAttribute("disabled"):s.setAttribute("disabled","")}function B(n){if(n.key==="Enter")return!1}function L(n){n.key==="Enter"&&m()}function m(){const n=document.querySelector("#input"),s=document.querySelector("#output");let r;try{r=T(n.value)}catch(u){console.error(u),r=u.message}s.textContent=r}function R(){const n=document.querySelector("#output");navigator.clipboard.writeText(n.textContent).then(()=>{const s=`"${n.textContent}" is successfully copied to the clipboard. 😁`;console.debug(s),z(s)})}function z(n){const s=document.querySelector("#toast");s.classList.remove("hidden"),setTimeout(()=>s.classList.add("hidden"),3e3);const r=document.querySelector("#toast-body");r.innerText=n}addEventListener("load",A);const I=document.querySelectorAll("form");for(const n of Array.from(I))n.onkeydown=B;const S=document.querySelector("#input");S.addEventListener("input",M);S.addEventListener("keydown",L);const $=document.querySelector("#run");$.addEventListener("click",m);const K=document.querySelector("#copy");K.addEventListener("click",R);
