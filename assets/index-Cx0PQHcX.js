(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function u(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(o){if(o.ep)return;o.ep=!0;const r=u(o);fetch(o.href,r)}})();const t=new Map;t.set("b","b");t.set("tʃ","ch");t.set("d","d");t.set("ð","dh");t.set("f","f");t.set("ɡ",["g","gh"]);t.set("h","h");t.set("ɦ","h");t.set("dʒ","j");t.set("k","k");t.set("x","kh");t.set("l","l");t.set("ʎ","ly");t.set("m","m");t.set("ɱ","m");t.set("n","n");t.set("ɳ","n");t.set("ŋ","ng");t.set("ɴ","ng");t.set("ŋk","nk");t.set("p","p");t.set("r","r");t.set("ɹ","r");t.set("ɾ","r");t.set("ɽ","r");t.set("s",["s","ss"]);t.set("ʃ","sh");t.set("t","t");t.set("ʈ","t");t.set("tʃ","tch");t.set("θ","th");t.set("v","v");t.set("w","w");t.set("ɥ","w");t.set("ɰ","w");t.set("hw","wh");t.set("j","y");t.set("ʝ","y");t.set("z","z");t.set("ʒ","zh");t.set("ç","ch");t.set("ʣ","dz");t.set("ʤ","j");t.set("ʦ","ts");t.set("ʧ","ch");t.set("ɢ","g");t.set("ʔ","");t.set("c","k");t.set("ɟ","g");t.set("q","k");t.set("χ","kh");t.set("ʁ","r");t.set("ħ","h");t.set("ʕ","");const e=new Map;e.set("æ","a");e.set("ɑ","ah");e.set("ɑː","ah");e.set("ɛər","air");e.set("ɑːr","ar");e.set("ær","arr");e.set("ɔː","aw");e.set("eɪ","ay");e.set("ɛ",["e","eh"]);e.set("iː","ee");e.set("i","ee");e.set("ɪər","eer");e.set("ɛr","err");e.set("juː","ew");e.set("aɪ",["eye","y"]);e.set("ɪ",["i","ih"]);e.set("aɪər","ire");e.set("ɪr","irr");e.set("ɒ","o");e.set("oʊ","oh");e.set("ɔɪər","oir");e.set("uː","oo");e.set("u","oo");e.set("ʊər","oor");e.set("ɔːr","or");e.set("ɒr","orr");e.set("aʊər","our");e.set("aʊ","ow");e.set("ɔɪ","oy");e.set("ʌ",["u","uh"]);e.set("ɜːr","ur");e.set("jʊər","ure");e.set("ʌr","urr");e.set("ʊ","uu");e.set("ʊr","uurr");e.set("ə","uh");e.set("ər","er");e.set("y","ue");e.set("ø","eu");e.set("œ","eu");e.set("ɶ","a");e.set("ɨ","i");e.set("ʉ","u");e.set("ɯ","u");e.set("ɘ","uh");e.set("ɵ","uh");e.set("ɤ","uh");e.set("ɜ","uh");e.set("ɞ","uh");e.set("ɐ","uh");e.set("ɚ","er");e.set("ɝ","ur");e.set("ɔ","aw");e.set("a","ah");e.set("ɑ̃","on");e.set("ɛ̃","an");e.set("ɔ̃","on");e.set("œ̃","un");const E=new Map([...t,...e]),y="ˈ",m="ˌ",b=[...t.keys()],g=[...e.keys()],w=[" ",".","ˌ"],v=[...w,"/","[","]","(",")"],k=[...b,...g,y,m,...v],x=new Map([["i",8],["y",8],["ɨ",8],["ʉ",8],["ɯ",8],["u",8],["ɪ",8],["ʏ",8],["ʊ",8],["e",8],["ø",8],["ɘ",8],["ɵ",8],["ɤ",8],["o",8],["ə",8],["ɛ",8],["œ",8],["ɜ",8],["ɞ",8],["ʌ",8],["ɔ",8],["æ",8],["ɐ",8],["a",8],["ɶ",8],["ɑ",8],["ɒ",8],["ɚ",8],["ɝ",8],["ʲ",8],["aɪ",8],["eɪ",8],["ɔɪ",8],["aʊ",8],["oʊ",8],["ɪə",8],["ɛə",8],["ʊə",8],["j",7],["w",7],["ɥ",7],["ɰ",7],["l",6],["r",6],["ɹ",6],["ɾ",6],["ɽ",6],["ʎ",6],["ʟ",6],["m",5],["ɱ",5],["n",5],["ɳ",5],["ŋ",5],["ɴ",5],["f",4],["v",4],["θ",4],["ð",4],["s",4],["z",4],["ʃ",4],["ʒ",4],["ç",4],["ʝ",4],["x",4],["ɣ",4],["χ",4],["ʁ",4],["ħ",4],["ʕ",4],["h",4],["ɦ",4],["ʦ",3],["ʣ",3],["ʧ",3],["ʤ",3],["tʃ",3],["dʒ",3],["p",2],["b",2],["t",2],["d",2],["ʈ",2],["ɖ",2],["c",2],["ɟ",2],["k",2],["g",2],["q",2],["ɢ",2],["ʔ",2]]);function p(n){return x.get(n)??0}function T(n){const s=[];let u=p(n[0]);for(let c=1;c<n.length-1;c++){const o=p(n[c]),r=p(n[c+1]);o<=u&&o<=r&&s.push(c),u=o}return s}function q(n){const s=E.get(n);if(Array.isArray(s))return`(${s.join("|")})`;if(typeof s=="string")return s;if(v.includes(n))return n;throw Error(`Token "${n}" has no mapping!`)}function f(n,s){if(n.length===0)return"";const u=n.join("");return s?u.toUpperCase():u}function I(n){const s=[];for(let u=0;u<n.length;){let c=!1;for(const o of k)n.startsWith(o,u)&&(s.push(o),u+=o.length,c=!0);if(!c)throw Error(`${n} contains unsupported symbol(s) around: "${n.charAt(u)}".`)}return s}function L(n){const s=I(n),u=T(s),c=[];let o=[],r=!1;for(let i=0;i<s.length;i++){const a=s[i];if(a===y){r=!0;continue}if(a!==m){if(w.includes(a)){if(o.length>0){const d=f(o,r);c.push(d),r=!1,o=[]}c.push(" ");continue}if(o.push(q(a)),u.includes(i)){const d=f(o,r);c.push(d),r=!1,o=[]}}}if(o.length>0){const i=f(o,r);c.push(i)}return c.join("")}const R="https://random-word-api.herokuapp.com/word?number",P="https://api.dictionaryapi.dev/api/v2/entries/en";async function $(n=8){const s=`${R}=${n}`,u=await fetch(s);if(!u)throw new Error(`Got no response from: ${s}`);return await u.json()}async function j(n){let s;Array.isArray(n)?s=n:s=[n];for(const u of s){const c=await fetch(`${P}/${u}`);if(!c.ok){console.warn(`Failed to retrieve IPA: ${u}`);continue}const[o]=await c.json();if(!o){console.warn(`No IPA is retrieved: ${u}`);continue}const{phonetic:r}=o;if(!r){console.warn(`No IPA is retrieved: ${u}; it's just not provided by the API.`);continue}return r}}function _(){M(),A().then(()=>{})}function M(){const n=document.querySelector("#input"),s=o=>{const r=o.target,i=n.selectionStart??n.value.length,a=n.selectionEnd??n.value.length;n.focus(),n.setRangeText(r.innerText,i,a,"end")},u=document.querySelector("#input-button-area-consonants");[...b,y].map(o=>{const r=document.createElement("button");return r.type="button",r.innerText=o,r.className="col text-white bg-blue-500 hover:bg-blue-700 py-1 px-3 rounded input-button",r.onclick=s,r}).forEach(o=>u.appendChild(o));const c=document.querySelector("#input-button-area-vowels");g.map(o=>{const r=document.createElement("button");return r.type="button",r.innerText=o,r.className="col text-white bg-purple-500 hover:bg-purple-700 py-1 px-3 rounded input-button",r.onclick=s,r}).forEach(o=>c.appendChild(o))}function O(){const n=document.querySelector("#input"),s=document.querySelector("#run");n.value.length>0?s.removeAttribute("disabled"):s.setAttribute("disabled","")}function B(n){if(n.key==="Enter")return!1}function C(n){n.key==="Enter"&&S()}function S(){const n=document.querySelector("#input"),s=document.querySelector("#output");let u;try{u=L(n.value)}catch(c){console.error(c),u=c.message}s.textContent=u}function N(){const n=document.querySelector("#output");navigator.clipboard.writeText(n.textContent).then(()=>{const s=`"${n.textContent}" is successfully copied to the clipboard. 😁`;console.debug(s),z(s)})}function z(n){const s=document.querySelector("#toast");s.classList.remove("hidden"),setTimeout(()=>s.classList.add("hidden"),3e3);const u=document.querySelector("#toast-body");u.innerText=n}addEventListener("load",_);const F=document.querySelectorAll("form");for(const n of Array.from(F))n.onkeydown=B;const l=document.querySelector("#input");l.addEventListener("input",O);l.addEventListener("keydown",C);const K=document.querySelector("#run");K.addEventListener("click",S);const W=document.querySelector("#copy");W.addEventListener("click",N);const h=document.getElementById("random-ipa");async function A(){l.disabled=!0,h.disabled=!0;try{const n=document.querySelector("#input"),s=await $(),u=await j(s);u&&(n.value=u)}catch(n){console.error(n)}finally{l.disabled=!1,h.disabled=!1}}h.addEventListener("click",A);
