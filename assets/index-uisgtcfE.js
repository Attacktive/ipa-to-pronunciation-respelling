(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function u(s){if(s.ep)return;s.ep=!0;const c=r(s);fetch(s.href,c)}})();const n=new Map;n.set("b","b");n.set("tʃ","ch");n.set("d","d");n.set("ð","dh");n.set("f","f");n.set("ɡ",["g","gh"]);n.set("h","h");n.set("ɦ","h");n.set("dʒ","j");n.set("k","k");n.set("x","kh");n.set("l","l");n.set("ʎ","ly");n.set("m","m");n.set("ɱ","m");n.set("n","n");n.set("ɳ","n");n.set("ŋ","ng");n.set("ɴ","ng");n.set("ŋk","nk");n.set("p","p");n.set("r","r");n.set("ɹ","r");n.set("ɾ","r");n.set("ɽ","r");n.set("s",["s","ss"]);n.set("ʃ","sh");n.set("t","t");n.set("ʈ","t");n.set("tʃ","tch");n.set("θ","th");n.set("v","v");n.set("w","w");n.set("ɥ","w");n.set("ɰ","w");n.set("hw","wh");n.set("j","y");n.set("ʝ","y");n.set("z","z");n.set("ʒ","zh");n.set("ç","ch");n.set("ʣ","dz");n.set("ʤ","j");n.set("ʦ","ts");n.set("ʧ","ch");n.set("ɢ","g");n.set("ʔ","");n.set("c","k");n.set("ɟ","g");n.set("q","k");n.set("χ","kh");n.set("ʁ","r");n.set("ħ","h");n.set("ʕ","");const t=new Map;t.set("æ","a");t.set("ɑ","ah");t.set("ɑː","ah");t.set("ɛər","air");t.set("ɑːr","ar");t.set("ær","arr");t.set("ɔː","aw");t.set("eɪ","ay");t.set("ɛ",["e","eh"]);t.set("iː","ee");t.set("i","ee");t.set("ɪər","eer");t.set("ɛr","err");t.set("juː","ew");t.set("aɪ",["eye","y"]);t.set("ɪ",["i","ih"]);t.set("aɪər","ire");t.set("ɪr","irr");t.set("ɒ","o");t.set("oʊ","oh");t.set("ɔɪər","oir");t.set("uː","oo");t.set("u","oo");t.set("ʊər","oor");t.set("ɔːr","or");t.set("ɒr","orr");t.set("aʊər","our");t.set("aʊ","ow");t.set("ɔɪ","oy");t.set("ʌ",["u","uh"]);t.set("ɜːr","ur");t.set("jʊər","ure");t.set("ʌr","urr");t.set("ʊ","uu");t.set("ʊr","uurr");t.set("ə","uh");t.set("ər","er");t.set("y","ue");t.set("ø","eu");t.set("œ","eu");t.set("ɶ","a");t.set("ɨ","i");t.set("ʉ","u");t.set("ɯ","u");t.set("ɘ","uh");t.set("ɵ","uh");t.set("ɤ","uh");t.set("ɜ","uh");t.set("ɞ","uh");t.set("ɐ","uh");t.set("ɚ","er");t.set("ɝ","ur");t.set("ɔ","aw");t.set("a","ah");t.set("ɑ̃","on");t.set("ɛ̃","an");t.set("ɔ̃","on");t.set("œ̃","un");const w=new Map([...n,...t]),p="ˈ",f="ˌ",h=[...n.keys()],y=[...t.keys()],m=[" ","."],b=[...m,"/","[","]","(",")"],v=[...h,...y,p,f,...b],A=new Map([["i",8],["y",8],["ɨ",8],["ʉ",8],["ɯ",8],["u",8],["ɪ",8],["ʏ",8],["ʊ",8],["e",8],["ø",8],["ɘ",8],["ɵ",8],["ɤ",8],["o",8],["ə",8],["ɛ",8],["œ",8],["ɜ",8],["ɞ",8],["ʌ",8],["ɔ",8],["æ",8],["ɐ",8],["a",8],["ɶ",8],["ɑ",8],["ɒ",8],["ɚ",8],["ɝ",8],["ʲ",8],["aɪ",8],["eɪ",8],["ɔɪ",8],["aʊ",8],["oʊ",8],["ɪə",8],["ɛə",8],["ʊə",8],["j",7],["w",7],["ɥ",7],["ɰ",7],["l",6],["r",6],["ɹ",6],["ɾ",6],["ɽ",6],["ʎ",6],["ʟ",6],["m",5],["ɱ",5],["n",5],["ɳ",5],["ŋ",5],["ɴ",5],["f",4],["v",4],["θ",4],["ð",4],["s",4],["z",4],["ʃ",4],["ʒ",4],["ç",4],["ʝ",4],["x",4],["ɣ",4],["χ",4],["ʁ",4],["ħ",4],["ʕ",4],["h",4],["ɦ",4],["ʦ",3],["ʣ",3],["ʧ",3],["ʤ",3],["tʃ",3],["dʒ",3],["p",2],["b",2],["t",2],["d",2],["ʈ",2],["ɖ",2],["c",2],["ɟ",2],["k",2],["g",2],["q",2],["ɢ",2],["ʔ",2]]);function d(e){return A.get(e)??0}function E(e){const o=[];let r=d(e[0]);for(let u=1;u<e.length-1;u++){const s=d(e[u]),c=d(e[u+1]);s<=r&&s<=c&&o.push(u),r=s}return o}function x(e){const o=w.get(e);if(Array.isArray(o))return`(${o.join("|")})`;if(typeof o=="string")return o;if(b.includes(e))return e;throw Error(`Token "${e}" has no mapping!`)}function l(e,o){if(e.length===0)return"";const r=e.join("");return o?r.toUpperCase():r}function T(e,o,r,u){if(e===p){const s=l(o,r);return s&&u.push(s),{currentSyllable:[],isStressed:!0}}if(e===f)return{currentSyllable:o,isStressed:r};if(m.includes(e)){const s=l(o,r);return s&&u.push(s),u.push(" "),{currentSyllable:[],isStressed:!1}}return{currentSyllable:[...o,x(e)],isStressed:r}}function q(e){const o=[];for(let r=0;r<e.length;){let u=!1;for(const s of v)e.startsWith(s,r)&&(o.push(s),r+=s.length,u=!0);if(!u)throw Error(`${e} contains unsupported symbol(s) around: "${e.charAt(r)}".`)}return o}function k(e){const o=q(e),r=E(o),u=[];let s={currentSyllable:[],isStressed:!1};for(let i=0;i<o.length;i++)if(s=T(o[i],s.currentSyllable,s.isStressed,u),r.includes(i)){const a=l(s.currentSyllable,s.isStressed);a&&u.push(a),s.currentSyllable=[]}const c=l(s.currentSyllable,s.isStressed);return c&&u.push(c),u.join("")}const I="https://random-word-api.herokuapp.com/word?number",L="https://api.dictionaryapi.dev/api/v2/entries/en";async function R(e=8){const o=`${I}=${e}`,r=await fetch(o);if(!r)throw new Error(`Got no response from: ${o}`);return await r.json()}async function O(e){let o;Array.isArray(e)?o=e:o=[e];for(const r of o){const u=await fetch(`${L}/${r}`);if(!u.ok){console.warn(`Failed to retrieve IPA: ${r}`);continue}const[s]=await u.json();if(!s){console.warn(`No IPA is retrieved: ${r}`);continue}return s.phonetic}}async function _(){const e=document.querySelector("#input"),o=e.value;try{const r=await R(8),u=await O(r);u&&(e.value=u)}catch(r){console.error(r),e.value=o}$(),j()}function $(){document.querySelector("#input").select()}function j(){const e=document.querySelector("#input"),o=s=>{const c=s.target,i=e.selectionStart??e.value.length,a=e.selectionEnd??e.value.length;e.focus(),e.setRangeText(c.innerText,i,a,"end")},r=document.querySelector("#input-button-area-consonants");[...h,p].map(s=>{const c=document.createElement("button");return c.type="button",c.innerText=s,c.className="col text-white bg-blue-500 hover:bg-blue-700 py-1 px-3 rounded input-button",c.onclick=o,c}).forEach(s=>r.appendChild(s));const u=document.querySelector("#input-button-area-vowels");y.map(s=>{const c=document.createElement("button");return c.type="button",c.innerText=s,c.className="col text-white bg-purple-500 hover:bg-purple-700 py-1 px-3 rounded input-button",c.onclick=o,c}).forEach(s=>u.appendChild(s))}function M(){const e=document.querySelector("#input"),o=document.querySelector("#run");e.value.length>0?o.removeAttribute("disabled"):o.setAttribute("disabled","")}function P(e){if(e.key==="Enter")return!1}function C(e){e.key==="Enter"&&S()}function S(){const e=document.querySelector("#input"),o=document.querySelector("#output");let r;try{r=k(e.value)}catch(u){console.error(u),r=u.message}o.textContent=r}function B(){const e=document.querySelector("#output");navigator.clipboard.writeText(e.textContent).then(()=>{const o=`"${e.textContent}" is successfully copied to the clipboard. 😁`;console.debug(o),N(o)})}function N(e){const o=document.querySelector("#toast");o.classList.remove("hidden"),setTimeout(()=>o.classList.add("hidden"),3e3);const r=document.querySelector("#toast-body");r.innerText=e}addEventListener("load",_);const z=document.querySelectorAll("form");for(const e of Array.from(z))e.onkeydown=P;const g=document.querySelector("#input");g.addEventListener("input",M);g.addEventListener("keydown",C);const F=document.querySelector("#run");F.addEventListener("click",S);const K=document.querySelector("#copy");K.addEventListener("click",B);
