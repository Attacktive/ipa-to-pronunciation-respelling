const n=new Map;n.set("b","b");n.set("tÊƒ","ch");n.set("d","d");n.set("Ã°","dh");n.set("f","f");n.set("É¡",["g","gh"]);n.set("h","h");n.set("É¦","h");n.set("dÊ’","j");n.set("k","k");n.set("x","kh");n.set("l","l");n.set("Ê","ly");n.set("m","m");n.set("É±","m");n.set("n","n");n.set("É³","n");n.set("Å‹","ng");n.set("É´","ng");n.set("Å‹k","nk");n.set("p","p");n.set("r","r");n.set("É¹","r");n.set("É¾","r");n.set("É½","r");n.set("s",["s","ss"]);n.set("Êƒ","sh");n.set("t","t");n.set("Êˆ","t");n.set("tÊƒ","tch");n.set("Î¸","th");n.set("v","v");n.set("w","w");n.set("É¥","w");n.set("É°","w");n.set("hw","wh");n.set("j","y");n.set("Ê","y");n.set("z","z");n.set("Ê’","zh");n.set("Ã§","ch");n.set("Ê£","dz");n.set("Ê¤","j");n.set("Ê¦","ts");n.set("Ê§","ch");n.set("É¢","g");n.set("Ê”","");n.set("c","k");n.set("ÉŸ","g");n.set("q","k");n.set("Ï‡","kh");n.set("Ê","r");n.set("Ä§","h");n.set("Ê•","");const t=new Map;t.set("Ã¦","a");t.set("É‘","ah");t.set("É‘Ë","ah");t.set("É›É™r","air");t.set("É‘Ër","ar");t.set("Ã¦r","arr");t.set("É”Ë","aw");t.set("eÉª","ay");t.set("É›",["e","eh"]);t.set("iË","ee");t.set("i","ee");t.set("ÉªÉ™r","eer");t.set("É›r","err");t.set("juË","ew");t.set("aÉª",["eye","y"]);t.set("Éª",["i","ih"]);t.set("aÉªÉ™r","ire");t.set("Éªr","irr");t.set("É’","o");t.set("oÊŠ","oh");t.set("É”ÉªÉ™r","oir");t.set("uË","oo");t.set("u","oo");t.set("ÊŠÉ™r","oor");t.set("É”Ër","or");t.set("É’r","orr");t.set("aÊŠÉ™r","our");t.set("aÊŠ","ow");t.set("É”Éª","oy");t.set("ÊŒ",["u","uh"]);t.set("ÉœËr","ur");t.set("jÊŠÉ™r","ure");t.set("ÊŒr","urr");t.set("ÊŠ","uu");t.set("ÊŠr","uurr");t.set("É™","uh");t.set("É™r","er");t.set("y","ue");t.set("Ã¸","eu");t.set("Å“","eu");t.set("É¶","a");t.set("É¨","i");t.set("Ê‰","u");t.set("É¯","u");t.set("É˜","uh");t.set("Éµ","uh");t.set("É¤","uh");t.set("Éœ","uh");t.set("É","uh");t.set("É","uh");t.set("Éš","er");t.set("É","ur");t.set("É”","aw");t.set("a","ah");t.set("É‘Ìƒ","on");t.set("É›Ìƒ","an");t.set("É”Ìƒ","on");t.set("Å“Ìƒ","un");const w=new Map([...n,...t]),p="Ëˆ",h="ËŒ",f=[...n.keys()],y=[...t.keys()],m=["/","[","]"," "],v=[...f,...y,p,h,...m],g=new Map([["i",8],["y",8],["É¨",8],["Ê‰",8],["É¯",8],["u",8],["Éª",8],["Ê",8],["ÊŠ",8],["e",8],["Ã¸",8],["É˜",8],["Éµ",8],["É¤",8],["o",8],["É™",8],["É›",8],["Å“",8],["Éœ",8],["É",8],["ÊŒ",8],["É”",8],["Ã¦",8],["É",8],["a",8],["É¶",8],["É‘",8],["É’",8],["Éš",8],["É",8],["Ê²",8],["aÉª",8],["eÉª",8],["É”Éª",8],["aÊŠ",8],["oÊŠ",8],["ÉªÉ™",8],["É›É™",8],["ÊŠÉ™",8],["j",7],["w",7],["É¥",7],["É°",7],["l",6],["r",6],["É¹",6],["É¾",6],["É½",6],["Ê",6],["ÊŸ",6],["m",5],["É±",5],["n",5],["É³",5],["Å‹",5],["É´",5],["f",4],["v",4],["Î¸",4],["Ã°",4],["s",4],["z",4],["Êƒ",4],["Ê’",4],["Ã§",4],["Ê",4],["x",4],["É£",4],["Ï‡",4],["Ê",4],["Ä§",4],["Ê•",4],["h",4],["É¦",4],["Ê¦",3],["Ê£",3],["Ê§",3],["Ê¤",3],["tÊƒ",3],["dÊ’",3],["p",2],["b",2],["t",2],["d",2],["Êˆ",2],["É–",2],["c",2],["ÉŸ",2],["k",2],["g",2],["q",2],["É¢",2],["Ê”",2]]);function d(e){return g.get(e)??0}function k(e){const s=[];let o=d(e[0]);for(let u=1;u<e.length-1;u++){const r=d(e[u]),c=d(e[u+1]);r<=o&&r<=c&&s.push(u),o=r}return s}function x(e){const s=w.get(e);if(Array.isArray(s))return`(${s.join("|")})`;if(typeof s=="string")return s;if(m.includes(e))return e;throw Error(`Token "${e}" has no mapping!`)}function l(e,s){if(e.length===0)return"";const o=e.join("");return s?o.toUpperCase():o}function A(e,s,o,u){if(e===p){const r=l(s,o);return r&&u.push(r),{currentSyllable:[],isStressed:!0}}if(e===h)return{currentSyllable:s,isStressed:o};if(e===" "){const r=l(s,o);return r&&u.push(r),u.push(" "),{currentSyllable:[],isStressed:!1}}return{currentSyllable:[...s,x(e)],isStressed:o}}function E(e){const s=[];for(let o=0;o<e.length;){let u=!1;for(const r of v)e.startsWith(r,o)&&(s.push(r),o+=r.length,u=!0);if(!u)throw Error(`${e} contains unsupported symbol(s) around: "${e.charAt(o)}".`)}return s}function T(e){const s=E(e),o=k(s),u=[];let r={currentSyllable:[],isStressed:!1};for(let i=0;i<s.length;i++)if(r=A(s[i],r.currentSyllable,r.isStressed,u),o.includes(i)){const a=l(r.currentSyllable,r.isStressed);a&&u.push(a),r.currentSyllable=[]}const c=l(r.currentSyllable,r.isStressed);return c&&u.push(c),u.join("")}const q="https://random-word-api.herokuapp.com/word?number",I="https://api.dictionaryapi.dev/api/v2/entries/en";async function R(e=8){const s=`${q}=${e}`,o=await fetch(s);if(!o)throw new Error(`Got no response from: ${s}`);return await o.json()}async function _(e){let s;Array.isArray(e)?s=e:s=[e];for(const o of s){const u=await fetch(`${I}/${o}`);if(!u.ok){console.warn(`Failed to retrieve IPA: ${o}`);continue}const[r]=await u.json();if(!r){console.warn(`No IPA is retrieved: ${o}`);continue}return r.phonetic}}async function $(){const e=document.querySelector("#input"),s=e.value;try{const o=await R(8),u=await _(o);u&&(e.value=u)}catch(o){console.error(o),e.value=s}j(),M()}function j(){document.querySelector("#input").select()}function M(){const e=document.querySelector("#input"),s=r=>{const c=r.target,i=e.selectionStart??e.value.length,a=e.selectionEnd??e.value.length;e.focus(),e.setRangeText(c.innerText,i,a,"end")},o=document.querySelector("#input-button-area-consonants");[...f,p].map(r=>{const c=document.createElement("button");return c.type="button",c.innerText=r,c.className="col text-white bg-blue-500 hover:bg-blue-700 py-1 px-3 rounded input-button",c.onclick=s,c}).forEach(r=>o.appendChild(r));const u=document.querySelector("#input-button-area-vowels");y.map(r=>{const c=document.createElement("button");return c.type="button",c.innerText=r,c.className="col text-white bg-purple-500 hover:bg-purple-700 py-1 px-3 rounded input-button",c.onclick=s,c}).forEach(r=>u.appendChild(r))}function C(){const e=document.querySelector("#input"),s=document.querySelector("#run");e.value.length>0?s.removeAttribute("disabled"):s.setAttribute("disabled","")}function L(e){if(e.key==="Enter")return!1}function B(e){e.key==="Enter"&&b()}function b(){const e=document.querySelector("#input"),s=document.querySelector("#output");let o;try{o=T(e.value)}catch(u){console.error(u),o=u.message}s.textContent=o}function P(){const e=document.querySelector("#output");navigator.clipboard.writeText(e.textContent).then(()=>{const s=`"${e.textContent}" is successfully copied to the clipboard. ğŸ˜`;console.debug(s),z(s)})}function z(e){const s=document.querySelector("#toast");s.classList.remove("hidden"),setTimeout(()=>s.classList.add("hidden"),3e3);const o=document.querySelector("#toast-body");o.innerText=e}addEventListener("load",$);const O=document.querySelectorAll("form");for(const e of Array.from(O))e.onkeydown=L;const S=document.querySelector("#input");S.addEventListener("input",C);S.addEventListener("keydown",B);const N=document.querySelector("#run");N.addEventListener("click",b);const F=document.querySelector("#copy");F.addEventListener("click",P);
